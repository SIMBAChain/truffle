import { default as chalk } from 'chalk';
export const command = 'list';
export const describe = 'List SCaaS contracts';
export const builder = {
    'help': {
        'alias': 'h',
        'type': 'boolean',
        'describe': 'show help',
    },
};
const getAll = async (config) => {
    let contractDesigns = [];
    const url = `organisations/${config.organisation.id}/contract_designs/`;
    let resp = await config.authStore.doGetRequest(url);
    contractDesigns = contractDesigns.concat(resp.results);
    while (resp.next !== null) {
        const q = resp.next.split('?').pop();
        resp = await config.authStore.doGetRequest(`${url}?${q}`);
        contractDesigns = contractDesigns.concat(resp.results);
    }
    return contractDesigns;
};
export const handler = async (args) => {
    const config = args.config;
    const contractDesigns = await getAll(config);
    for (let i = 0; i < contractDesigns.length - 1; i++) {
        config.logger.info(`${chalk.green(contractDesigns[i].name)}\n\tversion ${contractDesigns[i].version}\n\tid ${contractDesigns[i].id}`);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21tYW5kcy9jb250cmFjdC9saXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxPQUFPLElBQUksS0FBSyxFQUFDLE1BQU0sT0FBTyxDQUFDO0FBS3ZDLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDOUIsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLHNCQUFzQixDQUFDO0FBQy9DLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRztJQUNuQixNQUFNLEVBQUU7UUFDSixPQUFPLEVBQUUsR0FBRztRQUNaLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLFVBQVUsRUFBRSxXQUFXO0tBQzFCO0NBQ0osQ0FBQztBQUVGLE1BQU0sTUFBTSxHQUFHLEtBQUssRUFBRSxNQUFtQixFQUFnQixFQUFFO0lBQ3ZELElBQUksZUFBZSxHQUFxQixFQUFFLENBQUM7SUFDM0MsTUFBTSxHQUFHLEdBQUcsaUJBQWlCLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRSxvQkFBb0IsQ0FBQztJQUN4RSxJQUFJLElBQUksR0FBRyxNQUFNLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BELGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUEyQixDQUFDLENBQUM7SUFDM0UsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtRQUN2QixNQUFNLENBQUMsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QyxJQUFJLEdBQUcsTUFBTSxNQUFNLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFELGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUEyQixDQUFDLENBQUM7S0FDOUU7SUFDRCxPQUFPLGVBQWUsQ0FBQztBQUMzQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFFLElBQXFCLEVBQWdCLEVBQUU7SUFDakUsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQXFCLENBQUM7SUFDMUMsTUFBTSxlQUFlLEdBQXFCLE1BQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNqRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDZCxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLFVBQzVFLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUN2QixFQUFFLENBQ0wsQ0FBQztLQUNMO0FBQ0wsQ0FBQyxDQUFDIn0=